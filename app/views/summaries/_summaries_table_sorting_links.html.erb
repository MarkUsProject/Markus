<tr>
  <th></th>
  <th class="<%="ap_sorting_by" if (sort_by == 'group_name')%>
              <%="ap_sorting_by_desc" if (sort_by == 'group_name' && !desc.blank?)%>">
    <%= link_to I18n.t("summaries_index.group_name"),
            id: assignment.id,
            filter: filter,
            page: page,
            per_page: per_page,
            sort_by: 'group_name',
            desc: (sort_by == 'group_name' && desc.blank?) %>
  </th>

  <th class="<%="ap_sorting_by" if (sort_by == 'repo_name')%>
              <%="ap_sorting_by_desc" if (sort_by == 'repo_name' && !desc.blank?)%>">
    <%= link_to I18n.t("summaries_index.repository"),
            id: assignment.id,
            filter: filter,
            page: page,
            per_page: per_page,
            sort_by: 'repo_name',
            desc: (sort_by == 'repo_name' && desc.blank?) %>
  </th>

  <th class="<%="ap_sorting_by" if (sort_by == 'revision_timestamp')%>
              <%="ap_sorting_by_desc" if (sort_by == 'revision_timestamp' && !desc.blank?)%>">
    <%= link_to I18n.t("summaries_index.commit_date"),
            id: assignment.id,
            filter: filter,
            page: page,
            per_page: per_page,
            sort_by: 'revision_timestamp',
            desc: (sort_by == 'revision_timestamp' && desc.blank?) %>
  </th>

  <th class="<%="ap_sorting_by" if (sort_by == 'marking_state')%>
              <%="ap_sorting_by_desc" if (sort_by == 'marking_state' && !desc.blank?)%>">
    <%= link_to I18n.t("summaries_index.marking_state"),
            id: assignment.id,
            filter: filter,
            page: page,
            per_page: per_page,
            sort_by: 'marking_state',
            desc: (sort_by == 'marking_state' && desc.blank?) %>
  </th>

  <th class="<%="ap_sorting_by" if (sort_by == 'grace_credits_used')%>
              <%="ap_sorting_by_desc" if (sort_by == 'grace_credits_used' && !desc.blank?)%>">
    <%= link_to I18n.t("summaries_index.grace_credits_used"),
            id: assignment.id,
            filter: filter,
            page: page,
            per_page: per_page,
            sort_by: 'grace_credits_used',
            desc: (sort_by == 'grace_credits_used' && desc.blank?) %>
  </th>

  <th class="<%="ap_sorting_by" if (sort_by == 'total_mark')%>
              <%="ap_sorting_by_desc" if (sort_by == 'total_mark' && !desc.blank?)%>">
    <%= link_to I18n.t("summaries_index.final_grade"),
            id: assignment.id,
            filter: filter,
            page: page,
            per_page: per_page,
            sort_by: 'total_mark',
            desc: (sort_by == 'total_mark' && desc.blank?) %>
  </th>

  <% assignment.rubric_criteria.each do |c| %>
  <th class="<%="ap_sorting_by" if (sort_by == 'criterion' && cid == c.id.to_s)%>
              <%="ap_sorting_by_desc" if (sort_by == 'criterion' && cid == c.id.to_s && !desc.blank?)%>">
    <%= link_to I18n.t("summaries_index.criterion") + c.id.to_s,
            id: assignment.id,
            filter: filter,
            page: page,
            per_page: per_page,
            sort_by: 'criterion',
            cid: c.id,
            desc: (sort_by == 'criterion' && cid == c.id.to_s && desc.blank?) %>
  </th>
  <% end %>

  <% if assignment.section_groups_only %>
  <th class="<%="ap_sorting_by" if (sort_by == 'section')%>
            <%="ap_sorting_by_desc" if (sort_by == 'section' && !desc.blank?)%>">
    <%= link_to I18n.t("browse_submissions.section"),
            id: assignment.id,
            filter: filter,
            page: page,
            per_page: per_page,
            sort_by: 'section',
            desc: (sort_by == 'section' && desc.blank?) %>
  </th>
  <% end %>
</tr>
