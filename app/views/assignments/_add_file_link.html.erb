<div id="add_file_link">
  <input type="text" id="new_assignment_filename" name="new_assignment_filename">
  <%= button_to_remote "Add Required File", :url => { :action => "add_assignment_file", :id => @assignment.id}, :with => "'new_assignment_filename=' + $F('new_assignment_filename')"%>
  <script type="text/javascript">
  //<![CDATA[

   $('new_assignment_filename').observe('keydown', function(event) {
      if (event.keyCode == Event.KEY_RETURN) {
  <%= remote_function :url => { :action => "add_assignment_file", :id => @assignment.id}, :with => "'new_assignment_filename=' + $F('new_assignment_filename')", :success => "Event.element(event).value = ''; Event.element(event).enable();Event.element(event).activate();"%>
    Event.element(event).disable()
    event.stop();
   }

   });
   //]]>
   </script>
</div>

