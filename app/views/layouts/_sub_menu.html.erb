<% if allowed_to?(:view_admin_subtabs?) && controller.class.module_parent.to_s == 'Admin' %>
  <%= render partial: 'layouts/menus/admin_sub_menu' %>
<% elsif allowed_to?(:view_instructor_subtabs?) %>
  <% if controller.controller_name == 'assignments' ||
        controller.controller_name == 'criteria' ||
        controller.controller_name == 'submissions' ||
        controller.controller_name == 'summaries' ||
        controller.controller_name == 'groups' ||
        controller.controller_name == 'graders' ||
        controller.controller_name == 'marks_graders' ||
        controller.controller_name == 'results' ||
        controller.controller_name == 'ta_assignments' ||
        controller.controller_name == 'annotation_categories' ||
        controller.controller_name == 'grade_entry_forms' ||
        controller.controller_name == 'automated_tests' ||
        controller.controller_name == 'tags' ||
        controller.controller_name == 'peer_reviews' ||
        controller.controller_name == 'exam_templates' %>
    <%= render partial: 'layouts/menus/instructor_ta_sub_menu_assessments',
               locals: { assessment: @assignment || @grade_entry_form } %>
  <% elsif controller.controller_name == 'instructors' ||
           controller.controller_name == 'students' ||
           controller.controller_name == 'tas' ||
           controller.controller_name == 'sections' %>
    <%= render partial: 'layouts/menus/instructor_sub_menu_users' %>
  <% end %>
<% elsif allowed_to?(:view_ta_subtabs?) &&
                              (controller.controller_name == 'assignments' ||
                               controller.controller_name == 'submissions' ||
                               controller.controller_name == 'results' ||
                               controller.controller_name == 'grade_entry_forms' ||
                               controller.controller_name == 'automated_tests' ||
                               controller.controller_name == 'peer_reviews' ||
                               controller.controller_name == 'summaries') %>
  <%= render partial: 'layouts/menus/instructor_ta_sub_menu_assessments', locals: { assessment: @assignment || @grade_entry_form } %>
<% elsif allowed_to?(:view_student_subtabs?) %>
  <%= render partial: 'layouts/menus/student_sub_menu' %>
<% end %>
