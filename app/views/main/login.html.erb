<%= javascript_include_tag 'jquery' %>

<div class='login'>
  <div class='login-image'>
    <%= image_tag('markus_logo_big.png', alt: '[Logo] Markus', title: 'MarkUs logo') %>
  </div>

  <p class='login-course'><%= MarkusConfigurator.markus_config_course_name %></p>

  <div class='login-error'>
    <%= render 'shared/flash_message' %>
  </div>

  <div class='login-form'>
    <%= form_tag({ action: 'login',
                   id: nil },
                 { # Quotes for onsubmit must be like this to show string properly
                   onsubmit: "jQuery('#submit').prop('disabled', true);
                              jQuery('#submit').val('#{ t(:logging_in) }');",
                   id: 'login_form' }) do %>
      <%= text_field_tag 'user_login',
                         nil,
                         tabindex: 10,
                         placeholder: t(:login),
                         autocorrect: 'off' %>
      <%= password_field_tag 'user_password',
                             nil,
                             tabindex: 20,
                             placeholder: t(:password) %>
      <div class='submit'>
        <%= submit_tag t(:log_in),
                       tabindex: 100,
                       id: 'submit' %>
      </div>
    <% end %>
  </div>
</div>

<script>
//<![CDATA[
  <%# Try to put focus on the login text field on load %>
  jQuery(document).ready(function() {
    document.getElementById('user_login').focus();
  });
//]]>
</script>
