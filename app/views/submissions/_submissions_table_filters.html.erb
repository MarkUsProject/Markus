<%
# this partial requires the following locals:
# assignment
# per_pages
# per_page
# filters
# filter
# desc
# sort_by
%>

<%= label_tag "filter", " " + I18n.t("browse_submissions.filter"), :class => "inline_label" %>
<%= select_tag  "filter", 
                options_for_select(filters, filter), 
                :onchange =>  "top.location.href = '#{assignment.id}" +
                              "?desc=#{desc}" +
                              "&sort_by=#{sort_by}" + 
                              "&per_page=#{per_page}" +
                              "&filter=' + $F(this); " 
                              # prototype  ^^^^^ evaluates the selected value for you
-%>


<%= I18n.t("browse_submissions.show") %>

<%
# for now go to page one until I figure out a formula for determining
# the correct page that contains that first entry on the current page
# after setting the new page size
%>
<%= select_tag  "per_page",
                options_for_select(per_pages, per_page.to_i), 
                :onchange =>  "top.location.href = '#{assignment.id}" +
                              "?desc=#{desc}" +
                              "&sort_by=#{sort_by}" + 
                              "&filter=#{filter}" +
                              "&per_page=' + $F(this); "
-%>
<%= label_tag "per_page", " " + I18n.t("browse_submissions.per_page"), :class => "inline_label" %>
