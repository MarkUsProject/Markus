if (result_mark.markable_type == 'RubricCriterion') {
  select_mark(result_mark.id, mark_value);
  if (<%= !result_mark.mark.nil? =>) {
    jQuery("mark_criterion_title_#{result_mark.id.to_s}_mark").html("<b>#{result_mark.mark}#{':'}  #{result_mark.markable["level_" + result_mark.mark.to_i.to_s + "_name"]}</b> #{result_mark.markable["level_" + result_mark.mark.to_i.to_s + "_description"]}");
  } else {
    jQuery("mark_criterion_title_#{result_mark.id.to_s}_mark").html();
  }
  jQuery("mark_<#= result_mark.id.to_s =>_summary_mark_after_weight").html(result_mark.get_mark);
}

if (result_mark.markable_type == 'FlexibleCriterion') {
  jQuery("mark_verify_result_#{result_mark.id.to_s}").hide();
}

jQuery("mark_#{result_mark.id.to_s}_summary_mark").html(result_mark.mark);
jQuery("current_subtotal_div").html(result_mark.result.get_subtotal);

jQuery("released").prop('disabled', true);

update_marking_state_selected(result_mark.result.marking_state.to_s, Result::MARKING_STATES[:partial]);
update_total_mark(result_mark.result.total_mark);
