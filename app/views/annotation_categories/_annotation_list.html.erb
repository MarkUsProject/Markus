<div id='annotation_list_holder'>
  <%= render partial: 'annotation_categories/annotation_category_edit',
             locals: { annotation_category: annotation_category } %>

  <% path = new_annotation_text_course_assignment_annotation_categories_path(
    @current_course,
    annotation_category.assignment,
    annotation_category_id: annotation_category
  ) %>
  <%= javascript_tag nonce: true do %>
    (function(){
      const domContentLoadedCB = function() {
        $('#add-annotation').click(function(e) {
          add_annotation_prompt('<%= path %>');
          e.preventDefault();
        })
      }
      if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", domContentLoadedCB);
      }else{
          domContentLoadedCB()
      }
    })();
  <% end %>
  <div class='float-right'>
    <%= link_to t('annotation_categories.add_annotation'),
                '#',
                id: 'add-annotation',
                class: 'button' %>
  </div>

  <h3>
    <%= t('activerecord.models.annotation.other') %>
  </h3>

  <ul id='annotation_list' class='block-list'>
    <%= render partial: 'annotation_text',
               collection: annotation_texts %>
  </ul>
</div>
