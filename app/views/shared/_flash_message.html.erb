<% [:error, :success, :warning, :notice].each do |key| %>
  <% if flash[key].is_a?(Array) %>
    <% unless flash[key] -%>
      <%= content_tag :div, nil, class: "#{key}", style: "display: none" %>
    <% else %>
      <%= content_tag :div, class: "#{key}" do
        flash[key].each do |msg|
          concat content_tag(:p, msg)
        end
      end %>
    <% end %>
  <% else %>
    <% unless flash[key] %>
      <%= content_tag :div, nil, class: "#{key}", style: "display: none" %>
    <% else %>
      <%= content_tag :div, flash[key], class: "#{key}" %>
    <% end %>
  <% end %>
<% end %>
