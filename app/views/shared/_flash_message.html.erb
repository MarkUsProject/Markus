<% [:error, :success, :warning, :notice].each do |key| -%>
  <% if flash[key].is_a?(Array) -%>
    <% flash[key].each do |msg| -%>
      <% unless msg -%>
        <%= content_tag :div, msg, class: "#{key} flash-#{key}", style: "display: none" %>
      <% else -%>
        <%= content_tag :div, msg, class: "#{key} flash-#{key}" %>
      <% end -%>
    <% end -%>
  <% else -%>
    <% unless flash[key] -%>
      <%= content_tag :div, flash[key], class: "#{key} flash-#{key}", style: "display: none" %>
    <% else -%>
      <%= content_tag :div, flash[key], class: "#{key} flash-#{key}" %>
    <% end -%>
  <% end -%>
<% end -%>